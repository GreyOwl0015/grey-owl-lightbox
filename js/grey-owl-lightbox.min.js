class Grey_Owl_Lightbox{constructor(){this.ajax_url='';this.before_open_event=!0;this.content='',this.embed_url='',this.image_url='',this.gallery={},this.gallery_temp_data={},this.current_img=1,this.dom_html_element='',this.html_doc=document.documentElement;this.l_box_max_width='90';this.l_box_max_height='90';this.window_w=this.html_doc.clientWidth;this.window_h=(jQuery('body').hasClass('admin-bar'))?Number(this.html_doc.clientHeight)-32:this.html_doc.clientHeight;this.resize_el_w='0';this.resize_el_h='0';this.size_el_w_default=!1;this.size_el_h_default=!1;this.resize_el_ratio='';this.madia_type='';this.file_type='';this.element_box=!1;this.element_box_w=0;this.element_box_h=0;this.button_event={};this.open_media_img='0';this.type_media_img='single';this.lightbox_style={'background_color':'#ffffff','padding_top':0,'padding_right':0,'padding_bottom':0,'padding_left':0,'border_radius':5,};this.lightbox_wrapper={'background_color':'#000000','opacity':'0.5'};this.close_btn_sett={'width':'30','height':'30','top':'0','left':'0','right':'auto','bottom':'auto','external_w':'','external_h':'','temp_ext_w':'','temp_ext_h':'','hor':'left','ver':'top','content':'','ver_padd':15,'hor_padd':15};this.prev_btn_sett={'content':''};this.next_btn_sett={'content':''};this.before_open={};this.data_go_callback='';this.callback_ajax='';this.callback_ajax_params={};this.return_callback_ajax_params={};this.content_callback_event={};this.data_go_content_callback='';this.variables={},this.wp_gallery=!1;this.loader='<svg version="1.1" id="loader-1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="40px" height="40px" viewBox="0 0 40 40" enable-background="new 0 0 40 40" xml:space="preserve"><path opacity="0.2" fill="#000" d="M20.201,5.169c-8.254,0-14.946,6.692-14.946,14.946c0,8.255,6.692,14.946,14.946,14.946s14.946-6.691,14.946-14.946C35.146,11.861,28.455,5.169,20.201,5.169z M20.201,31.749c-6.425,0-11.634-5.208-11.634-11.634c0-6.425,5.209-11.634,11.634-11.634c6.425,0,11.633,5.209,11.633,11.634C31.834,26.541,26.626,31.749,20.201,31.749z"></path><path fill="#000" d="M26.013,10.047l1.654-2.866c-2.198-1.272-4.743-2.012-7.466-2.012h0v3.312h0C22.32,8.481,24.301,9.057,26.013,10.047z" transform="rotate(72 20 20)"><animateTransform attributeType="xml" attributeName="transform" type="rotate" from="0 20 20" to="360 20 20" dur="0.5s" repeatCount="indefinite"></animateTransform></path></svg>'}
num_str_to_num(str_num){if(typeof str_num=='string'){str_num=str_num.trim();str_num=str_num.replace('px','')}
var num=Number(str_num);return num}
lightbox_set_styles(params={}){var set_box_styles={'background-color':this.lightbox_style.background_color,'padding-top':this.lightbox_style.padding_top,'padding-right':this.lightbox_style.padding_right,'padding-bottom':this.lightbox_style.padding_bottom,'padding-left':this.lightbox_style.padding_left,'border-radius':this.lightbox_style.border_radius,}
var set_wrapp_styles={'background-color':this.lightbox_wrapper.background_color,'opacity':this.lightbox_wrapper.opacity,}
if(params){jQuery.each(params,function(key,val){if(key=='wrapp_bg_color'){set_wrapp_styles['background-color']=val}else if(key=='wrapp_opacity'){set_wrapp_styles.opacity=val}})}
jQuery('.trigger-go-lightbox-wrapp .trigger-media-block').css(set_box_styles);jQuery('.trigger-go-lightbox-wrapp .trigger-bg-btn-close').css(set_wrapp_styles)}
go_set_content_to_lightbox(content=''){var _this=this;if(typeof content=='string'&&content){jQuery('.trigger-go-lightbox-wrapp .trigger-media-block').html(content);_this.content_callback_event=jQuery('.trigger-go-lightbox-wrapp .trigger-media-block [data-gol-content-box]');var loader_box=jQuery('.trigger-go-lightbox-wrapp .ajax-loader');if(_this.before_open_event){if(typeof _this.before_open=='function'){_this.before_open(_this.content_callback_event,_this.data_go_content_callback)}}
jQuery('.trigger-go-lightbox-wrapp').fadeIn(function(){jQuery(this).attr('aria-hidden','false');jQuery('.trigger-go-lightbox-wrapp a, .trigger-go-lightbox-wrapp button, .trigger-go-lightbox-wrapp input, .trigger-go-lightbox-wrapp select, .trigger-go-lightbox-wrapp textarea').each(function(){jQuery(this).attr('tabindex','0')});jQuery('.trigger-top-close-lightbox').focus();jQuery(this).addClass('displayed')})}
this.element_box=!0;this.resize_media_element();this.resize_close_bottom_position()}
go_set_second_content_to_lightbox(content=''){var _this=this;if(typeof content=='string'&&content){jQuery('.trigger-media-block-wrapp').fadeOut(function(){jQuery('.trigger-go-lightbox-wrapp .trigger-media-block').html(content);_this.content_callback_event=jQuery('.trigger-go-lightbox-wrapp .trigger-media-block [data-gol-content-box]');var loader_box=jQuery('.trigger-go-lightbox-wrapp .ajax-loader');if(_this.before_open_event){if(typeof _this.before_open=='function'){_this.before_open(_this.content_callback_event,_this.data_go_content_callback)}
_this.before_open_event=!1}
jQuery(this).fadeIn(function(){jQuery(this).find('a, button, input, select, textarea').each(function(){jQuery(this).attr('tabindex','0')});jQuery('.trigger-top-close-lightbox').focus();jQuery(this).addClass('displayed')});_this.element_box=!0;_this.resize_media_element();_this.resize_close_bottom_position()})}}
go_lightbox_open(params={}){console.log('test');var _this=this;this.set_object_data(params);this.lightbox_set_styles(params);var _content=this.close_btn_sett.content;if(_content!=''){jQuery('.trigger-top-close-lightbox').html(_content)}
_this.close_btn_sett_open_lightbox();if(_this.content){var content=_this.content}else if(typeof params.content!='undefined'&&typeof params.content=='string'&&params.content!=''){var content=params.content}else{var content=''}
_this.go_set_content_to_lightbox(content)}
go_lightbox_close(){var _this=this;jQuery('.trigger-go-lightbox-wrapp').fadeOut(function(){jQuery(this).attr('aria-hidden','true');jQuery('.trigger-go-lightbox-wrapp a, .trigger-go-lightbox-wrapp button, .trigger-go-lightbox-wrapp input, .trigger-go-lightbox-wrapp select, .trigger-go-lightbox-wrapp textarea').each(function(){jQuery(this).attr('tabindex','-1')});jQuery('.trigger-go-lightbox-wrapp .trigger-media-block').html('');jQuery(this).removeClass('displayed');if(typeof _this.button_event.focus!='undefined'){_this.button_event.focus()}
_this.clear_GOL_object()})}
close_btn_sett_open_lightbox(){var _this=this;var temp_obj={'top':jQuery.isNumeric(_this.close_btn_sett.top.replace('px',''))?_this.close_btn_sett.top.replace('px',''):'0','left':jQuery.isNumeric(_this.close_btn_sett.left.replace('px',''))?_this.close_btn_sett.left.replace('px',''):'0','right':jQuery.isNumeric(_this.close_btn_sett.right.replace('px',''))?_this.close_btn_sett.right.replace('px',''):'0','bottom':jQuery.isNumeric(_this.close_btn_sett.bottom.replace('px',''))?_this.close_btn_sett.bottom.replace('px',''):'0','height':jQuery.isNumeric(_this.close_btn_sett.height.replace('px',''))?_this.close_btn_sett.height.replace('px',''):'0','width':jQuery.isNumeric(_this.close_btn_sett.width.replace('px',''))?_this.close_btn_sett.width.replace('px',''):'0',}
if(temp_obj.top<0){this.close_btn_sett.external_h=(Math.abs(Number(temp_obj.top))+this.close_btn_sett.ver_padd)+Number(_this.resize_el_h)}else if(temp_obj.bottom<0){this.close_btn_sett.external_h=(Math.abs(Number(temp_obj.bottom))+this.close_btn_sett.ver_padd)+Number(_this.resize_el_h)}
if(temp_obj.left<0){this.close_btn_sett.external_w=(Math.abs(Number(temp_obj.left))+this.close_btn_sett.hor_padd)+Number(_this.resize_el_w)}else if(temp_obj.right<0){this.close_btn_sett.external_w=(Math.abs(Number(temp_obj.right))+this.close_btn_sett.hor_padd)+Number(_this.resize_el_w)}
_this.close_btn_sett.temp_ext_w=_this.close_btn_sett.external_w;_this.close_btn_sett.temp_ext_h=_this.close_btn_sett.external_h}
resize_media_element(){var _this=this;var padd_t=_this.num_str_to_num(this.lightbox_style.padding_top);var padd_r=_this.num_str_to_num(this.lightbox_style.padding_right);var padd_b=_this.num_str_to_num(this.lightbox_style.padding_bottom);var padd_l=_this.num_str_to_num(this.lightbox_style.padding_left);var l_max_w=_this.num_str_to_num(this.l_box_max_width);var l_max_h=_this.num_str_to_num(this.l_box_max_height);var padding_horizontal=padd_r+padd_l;var padding_vertical=padd_t+padd_b;var width_padd=Math.floor(Number((_this.window_w-padding_horizontal)*(l_max_w/100)));var height_padd=Math.floor(Number((_this.window_h-padding_vertical)*(l_max_h/100)));var box_w_padd=Number(_this.lightbox_style.padding_left.replace('px',''))+Number(_this.lightbox_style.padding_right.replace('px',''));var box_h_padd=Number(_this.lightbox_style.padding_top.replace('px',''))+Number(_this.lightbox_style.padding_bottom.replace('px',''));var new_width_el=0;var new_height_el=0;if(this.element_box){if(this.madia_type=='video'||this.madia_type=='video-file'){if(this.madia_type=='video-file'){var media_el='video'}else{var media_el='iframe'}
var element_box=jQuery('[data-gol-content-box] '+media_el);if(width_padd<_this.resize_el_w&&height_padd>_this.resize_el_h){new_width_el=Number(width_padd)-Number(box_w_padd);new_height_el=Math.floor(Number(new_width_el/this.resize_el_ratio))}else if(width_padd>_this.resize_el_w&&height_padd<_this.resize_el_h){new_height_el=Number(height_padd)-Number(box_h_padd);new_width_el=Math.floor(Number(new_height_el*this.resize_el_ratio))}else if(width_padd<_this.resize_el_w&&height_padd<_this.resize_el_h){var wind_index=Math.floor(Number(width_padd/height_padd));if(wind_index<this.resize_el_ratio){new_width_el=Number(width_padd)-Number(box_w_padd);new_height_el=Math.floor(Number(new_width_el/this.resize_el_ratio))}else{new_height_el=Number(height_padd)-Number(box_h_padd);new_width_el=Math.floor(Number(new_height_el*this.resize_el_ratio))}}else{new_width_el=(Number(_this.resize_el_w))?Math.floor(Number(_this.resize_el_w)):100;new_height_el=(Number(_this.resize_el_h))?Math.floor(Number(_this.resize_el_h)):100}
element_box.attr('width',new_width_el);element_box.attr('height',new_height_el);_this.element_box_w=Math.floor(new_width_el+Number(box_w_padd));_this.element_box_h=Math.floor(new_height_el+Number(box_h_padd))}else if(this.madia_type=='image'){element_box=jQuery('.trigger-media-block .image-wrapper');var element_image=element_box.find('.image-box');var data_style={};if(width_padd<_this.resize_el_w&&height_padd>_this.resize_el_h){new_width_el=Number(width_padd)-Number(box_w_padd);new_height_el=Math.floor(Number(new_width_el/this.resize_el_ratio))}else if(width_padd>_this.resize_el_w&&height_padd<_this.resize_el_h){new_height_el=Number(height_padd)-Number(box_h_padd);new_width_el=Math.floor(Number(new_height_el*this.resize_el_ratio))}else if(width_padd<_this.resize_el_w&&height_padd<_this.resize_el_h){var wind_index=width_padd/height_padd;if(wind_index<this.resize_el_ratio){new_width_el=Number(width_padd)-Number(box_w_padd);new_height_el=Math.floor(Number(new_width_el/this.resize_el_ratio))}else{new_height_el=Number(height_padd)-Number(box_h_padd);new_width_el=Math.floor(Number(new_height_el*this.resize_el_ratio))}}else{new_width_el=(Number(_this.resize_el_w))?Math.floor(Number(_this.resize_el_w)):100;new_height_el=(Number(_this.resize_el_h))?Math.floor(Number(_this.resize_el_h)):100}
data_style={'width':new_width_el+'px','height':new_height_el+'px'};element_image.css(data_style);var w_parent=Math.floor(new_width_el)-1;var h_parent=Math.floor(new_height_el)-1;w_parent=(w_parent%2)?w_parent-1:w_parent;h_parent=(h_parent%2)?h_parent-1:h_parent;var element_box_style={'width':w_parent+'px','height':h_parent+'px'};element_box.css(element_box_style);_this.element_box_w=Number(w_parent)+Number(box_w_padd);_this.element_box_h=Number(h_parent)+Number(box_h_padd)}else if(this.madia_type=='gallery'){element_box=jQuery('.trigger-media-block .image-wrapper');var data_parent_style={};element_box.find('.image-box').each(function(){var element_image=jQuery(this);var data_style={};var el_num=element_image.attr('data-image-num');if(typeof _this.gallery_temp_data[el_num]!='undefined'){var this_el_w=Math.floor(Number(_this.gallery_temp_data[el_num].width));var this_el_h=Math.floor(Number(_this.gallery_temp_data[el_num].height));var this_ratio=_this.gallery_temp_data[el_num].ratio}else{var this_el_w=Math.floor(Number(_this.resize_el_w));var this_el_h=Math.floor(Number(_this.resize_el_h));var this_ratio=_this.resize_el_ratio}
if(width_padd<this_el_w&&height_padd>this_el_h){new_width_el=Number(width_padd)-Number(box_w_padd);new_height_el=Math.floor(Number(new_width_el/this_ratio))}else if(width_padd>this_el_w&&height_padd<this_el_h){new_height_el=Number(height_padd)-Number(box_h_padd);new_width_el=Math.floor(Number(new_height_el*this_ratio))}else if(width_padd<this_el_w&&height_padd<this_el_h){var wind_index=width_padd/height_padd;if(wind_index<this_ratio){new_width_el=Number(width_padd)-Number(box_w_padd);new_height_el=Math.floor(Number(new_width_el/this_ratio))}else{new_height_el=Number(height_padd)-Number(box_h_padd);new_width_el=Math.floor(Number(new_height_el*this_ratio))}}else{new_width_el=(Number(this_el_w))?Math.floor(Number(this_el_w)):100;new_height_el=(Number(this_el_h))?Math.floor(Number(this_el_h)):100}
data_style={'width':new_width_el+'px','height':new_height_el+'px'};element_image.css(data_style);if(element_image.hasClass('current')){data_parent_style=data_style}});if(!data_parent_style){data_parent_style={'width':Math.floor(new_width_el+Number(box_w_padd))+'px','height':Math.floor(new_height_el+Number(box_h_padd))+'px'}}
var w_parent=Number(data_parent_style.width.replace('px',''))-1;var h_parent=Number(data_parent_style.height.replace('px',''))-1;w_parent=(w_parent%2)?w_parent-1:w_parent;h_parent=(h_parent%2)?h_parent-1:h_parent;var element_box_style={'width':w_parent+'px','height':h_parent+'px'};element_box.css(element_box_style);_this.element_box_w=Number(w_parent)+Number(box_w_padd);_this.element_box_h=Number(h_parent)+Number(box_h_padd)}else{var element_box=jQuery('.trigger-media-block');if(_this.resize_el_w==0){}
var data_style={};if(width_padd<_this.resize_el_w){data_style={}}else if(width_padd>_this.resize_el_w){data_style={}}
element_box.css(data_style)}}}
resize_close_bottom_position(){var _this=this;if(this.element_box){var temp_hor=this.close_btn_sett.hor;var temp_ver=this.close_btn_sett.ver;var resp_hor=Number(this.close_btn_sett[temp_hor].replace('px',''));var resp_ver=Number(this.close_btn_sett[temp_ver].replace('px',''));var btn_ver_padd=Math.abs(resp_hor);var btn_hor_padd=Math.abs(resp_hor);if(resp_ver<0){var ver_distance=((Number(this.window_h)-Number(_this.element_box_h))/2)-Number(this.close_btn_sett.ver_padd);var new_ver_padd=0;if(ver_distance<btn_ver_padd){new_ver_padd=(ver_distance>0)?ver_distance*-1:0}else{new_ver_padd=resp_ver}
if(temp_ver=='top'){jQuery('.trigger-tbtn-close-wrapp').css('top',new_ver_padd,)}else{jQuery('.trigger-tbtn-close-wrapp').css('bottom',new_ver_padd,)}}
if(resp_hor<0){var hor_distance=((Number(this.window_w)-Number(_this.element_box_w))/2)-Number(this.close_btn_sett.hor_padd);var new_hor_padd=0;if(hor_distance<btn_hor_padd){new_hor_padd=(hor_distance>0)?hor_distance*-1:0}else{new_hor_padd=resp_hor}
if(temp_hor=='left'){jQuery('.trigger-tbtn-close-wrapp').css('left',new_hor_padd,)}else{jQuery('.trigger-tbtn-close-wrapp').css('right',new_hor_padd,)}}}}
set_content_wrapper(content_str){var _this=this;if(typeof _this.variables=='object'){jQuery.each(_this.variables,function(key,value){content_str=content_str.replace('%'+key+'%',value)})}
if(typeof content_str=='string'){content_str='<div data-gol-content-box>'+content_str+'</div>'}else{content_str='<div data-gol-content-box></div>'}
return content_str}
set_galery_object(set_data){var _this=this;if(typeof set_data!='undefined'&&typeof set_data.gallery=='object'&&set_data.gallery){var temp_obj={};var temp_counter=1;jQuery.each(set_data.gallery,function(key,img_url){if(typeof img_url=='string'){var new_url=!0;if(temp_obj){jQuery.each(temp_obj,function(temp_key,temp_url){if(temp_url==img_url){new_url=!1}})}
if(new_url){temp_obj[temp_counter]=img_url;temp_counter++}}});if(typeof set_data!='undefined'&&typeof Number(set_data.current_img)=='number'&&Number(set_data.current_img)>0){_this.current_img=Number(set_data.current_img)}
_this.build_gallery_html(temp_obj)}}
build_imge_html(img_url=''){var _this=this;if(img_url){_this.madia_type='image';_this.button_event=jQuery(this);var data_v_h='data-w="" data-h="" data-ratio="1"';var code_html='<div class="image-wrapper" data-image-num="1" style="width: 40px;height: 40px;" '+data_v_h+'><div class="loader-image-box">'+_this.loader+'</div></div>';_this.before_open=function(){var tmpImg=new Image();tmpImg.src=img_url;var img_box_html='<div class="image-box current" data-image-num="1"></div>';jQuery('.trigger-go-lightbox-wrapp .image-wrapper').append(img_box_html);_this.get_image_data(tmpImg,1,!0,'current')};_this.content=_this.set_content_wrapper(code_html);_this.go_lightbox_open()}}
build_gallery_html(images_obj={}){var _this=this;var data_v_h='data-w="" data-h="" data-ratio="1"';var code_html='<div class="image-wrapper" data-image-num="1" style="width: 40px;height: 40px;" '+data_v_h+'><div class="loader-image-box">'+_this.loader+'</div></div>';_this.madia_type='gallery';_this.button_event=jQuery(this);if(typeof images_obj=='object'&&images_obj){var obj_length=Object.keys(images_obj);_this.before_open=function(){jQuery.each(images_obj,function(key,val){var tmpImg=new Image();tmpImg.src=val;var current_img='';var current_num_key=Number(_this.current_img);current_num_key=(typeof current_num_key=='number'&&current_num_key>1&&current_num_key<=obj_length.length)?current_num_key:1;if(current_num_key==key){var add_to_obj=!0;current_img='current'}else{var add_to_obj=!1}
var img_box_html='<div class="image-box '+current_img+'" data-image-num="'+key+'"></div>';jQuery('.trigger-go-lightbox-wrapp .image-wrapper').append(img_box_html);_this.get_image_data(tmpImg,key,add_to_obj,current_img)});if(obj_length.length>1){var button_prev='<button class="button previous" title="previous" aria-label="previous"><span class="btn-cont">'+_this.prev_btn_sett.content+'</span></button>';var button_next='<button class="button next" title="next" aria-label="next"><span class="btn-cont">'+_this.next_btn_sett.content+'</span></button>';var buttons=button_prev+button_next;_this.content_callback_event.find('.image-wrapper').append(buttons);_this.button_previous_and_next()}}}
_this.content=_this.set_content_wrapper(code_html)}
set_object_variables(set_data){var _this=this;if(typeof set_data!='undefined'&&typeof set_data.variables=='object'&&set_data.variables){_this.variables=set_data.variables}
if(typeof set_data.before_open!='undefined'&&typeof set_data.before_open=='function'){_this.before_open=set_data.before_open}}
set_embed_object(data_embed_url,max_width=''){var _this=this;_this.embed_url=data_embed_url;_this.callback_ajax='gery_owl_get_oembed_data_json';if(typeof max_width=='string'&&max_width){max_width=max_width.replace('px','');max_width=max_width.replace('%','');max_width=max_width.replace('em','');max_width=max_width.replace('rem','')}
max_width=(Number(max_width)!=NaN)?Number(max_width):'';var options={callback_ajax:_this.callback_ajax,callback_ajax_params:{embed_url:_this.embed_url,max_width:max_width,}};_this.madia_type='video';_this.go_ajax_callback(options,jQuery(this))}
set_media_content(set_data){var _this=this;if(typeof set_data!='undefined'){if(typeof set_data.image_url=='string'&&set_data.image_url){_this.build_imge_html(set_data.image_url)}else if(typeof set_data.gallery=='object'&&set_data.gallery){_this.set_galery_object(set_data)}else if(typeof set_data.embed_url=='string'&&set_data.embed_url){var max_width=(set_data.max_width!='undefined'&&set_data.max_width)?set_data.max_width:'';_this.set_embed_object(set_data.embed_url,max_width)}else if(typeof set_data.dom_html_element=='string'&&set_data.dom_html_element){var element_class=set_data.dom_html_element;element_class=element_class.replace('.','');var obj_content=jQuery('.'+element_class).clone();obj_content.css('display','block');obj_content.removeAttr('aria-hidden');_this.content=_this.set_content_wrapper(obj_content[0].outerHTML)}else if(typeof set_data.callback_ajax=='string'){var this_ajax_call=set_data.callback_ajax;var callback_params={};var before_open_event={};if(typeof set_data.callback_ajax_params!='undefined'){if(typeof set_data.callback_ajax_params=='function'){callback_params=set_data.callback_ajax_params()}else if(typeof set_data.callback_ajax_params=='object'||typeof set_data.callback_ajax_params=='string'){callback_params=set_data.callback_ajax_params}}
callback_params=(typeof callback_params!='undefined'&&callback_params)?callback_params:{};var set_obj={'callback_ajax':this_ajax_call,'callback_ajax_params':callback_params};_this.go_ajax_callback(set_obj,jQuery(this))}}}
set_object_data(set_data){var _this=this;_this.set_object_variables(set_data);_this.set_media_content(set_data);jQuery.each(set_data,function(key,object_val){if(key=='content'&&typeof object_val=='string'){_this.content=_this.set_content_wrapper(object_val)}else if(key=='data_go_callback'&&typeof object_val=='string'){if(typeof window[object_val]=='function'){var code_html=window[object_val](this.callback_ajax_params)}else{var code_html='function is not exist'}
_this.content=_this.set_content_wrapper(code_html)}else if(key=='data_go_content_callback'&&typeof object_val=='string'){_this.data_go_content_callback=object_val}else if(key=='open_media_img'&&typeof object_val=='string'){_this.open_media_img=object_val}else if(key=='type_media_img'&&typeof object_val=='string'){_this.type_media_img=object_val}else if(key=='l_box_max_width'&&typeof object_val=='string'){_this.l_box_max_width=object_val}else if(key=='l_box_max_height'&&typeof object_val=='string'){_this.l_box_max_height=object_val}else if((key=='prev_btn_sett'||key=='next_btn_sett')&&typeof object_val=='object'){jQuery.each(object_val,function(set_key,set_val){if(typeof _this[key][set_key]!='undefined'){if(set_key!='content'){if(typeof set_val=='string'){set_val=set_val.trim();set_val=set_val.replace('px','')}
if(jQuery.isNumeric(set_val)){set_val=set_val+'px'}}
_this[key][set_key]=set_val}})}else if(key=='close_btn_sett'&&typeof object_val=='object'){jQuery.each(object_val,function(set_key,set_val){if(typeof _this.close_btn_sett[set_key]!='undefined'){if(set_key!='content'){if(typeof set_val=='string'){set_val=set_val.trim();set_val=set_val.replace('px','')}
if(jQuery.isNumeric(set_val)){set_val=set_val+'px'}}
_this.close_btn_sett[set_key]=set_val}});if(_this.close_btn_sett.right!='auto'){_this.close_btn_sett.left='auto';_this.close_btn_sett.hor='right'}else{_this.close_btn_sett.hor='left'}
if(_this.close_btn_sett.bottom!='auto'){_this.close_btn_sett.top='auto';_this.close_btn_sett.ver='bottom'}else{_this.close_btn_sett.ver='top'}
var size_close_btn={'width':_this.close_btn_sett.width,'height':_this.close_btn_sett.height,'line-height':_this.close_btn_sett.height,'font-size':_this.close_btn_sett.height,}
jQuery('.trigger-tbtn-close-wrapp').css(size_close_btn);jQuery('.trigger-top-close-lightbox').css(size_close_btn)}else if(key=='lightbox_style'&&typeof object_val=='object'){jQuery.each(object_val,function(set_key,set_val){if(typeof _this.lightbox_style[set_key]!='undefined'){if(set_key=='padding_top'||set_key=='padding_right'||set_key=='padding_bottom'||set_key=='padding_left'||set_key=='border_radius'){if(typeof set_val=='string'){set_val=set_val.trim();set_val=set_val.replace('px','')}
if(jQuery.isNumeric(set_val)){set_val=set_val+'px'}}
_this.lightbox_style[set_key]=set_val}})}else if(key=='lightbox_wrapper'&&typeof object_val=='object'){jQuery.each(object_val,function(set_key,set_val){if(typeof _this.lightbox_wrapper[set_key]!='undefined'){_this.lightbox_wrapper[set_key]=set_val}})}else if(key=='wp_gallery'&&typeof object_val=='string'&&(object_val=='single'||object_val=='gallery')){_this.wp_gallery=object_val}else if(key=='ajax_url'&&typeof object_val=='string'){_this.ajax_url=object_val}})}
init(obj={}){jQuery('[data-gol-content]').attr('aria-hidden','true');jQuery('[data-gol-content]').find('a, button, input, select, textarea').each(function(){jQuery(this).attr('tabindex','-1')});var _this=this;this.set_object_data(obj);jQuery('[go-lightbox]').on('click',function(e){e.preventDefault();var this_call=jQuery(this).attr('data-go-callback');var this_ajax_call=jQuery(this).attr('data-go-ajax-callback');var call_params_fn=jQuery(this).attr('data-go-callback-params');var content_callback=jQuery(this).attr('data-go-content-callback');var video_url=jQuery(this).attr('data-go-video-url');var video_width=jQuery(this).attr('data-go-video-width');var attr_image_url=jQuery(this).attr('data-go-image');var callback_params={};if(typeof call_params_fn!='undefined'&&typeof call_params_fn=='string'&&call_params_fn!=''&&typeof window[call_params_fn]=='function'){callback_params=window[call_params_fn]()}else if(typeof video_url=='string'&&video_url){var max_width=(typeof video_width=='string'&&video_width)?video_width:'';_this.go_lightbox_open({embed_url:video_url,max_width:max_width})}else if(typeof attr_image_url=='string'&&attr_image_url){_this.go_lightbox_open({image_url:attr_image_url})}
callback_params=(typeof callback_params!='undefined'&&callback_params)?callback_params:{};if(typeof content_callback=='undefined'||typeof content_callback!='string'){content_callback=''}
if(typeof this_ajax_call!='undefined'&&this_ajax_call!=''){_this.go_lightbox_open({'callback_ajax':this_ajax_call,'callback_ajax_params':callback_params,'data_go_content_callback':content_callback})}else if(typeof this_call!='undefined'&&this_call!=''){_this.go_lightbox_open({'data_go_callback':this_call,'callback_ajax_params':callback_params,})}});jQuery('.trigger-go-lightbox-wrapp .trigger-bg-btn-close, .trigger-top-close-lightbox, .trigger-bottom-close-lightbox').on('click',function(){_this.go_lightbox_close()});jQuery('.trigger-top-close-lightbox').keydown(function(event){if(typeof event.type!="undefined"&&event.type=='keydown'){if(event.shiftKey&&event.keyCode==9){event.preventDefault();jQuery('.trigger-bottom-close-lightbox').focus()}}});jQuery('.trigger-bottom-close-lightbox').keydown(function(event){if(typeof event.type!="undefined"&&event.type=='keydown'){if(!event.shiftKey&&event.keyCode==9){event.preventDefault();jQuery('.trigger-top-close-lightbox').focus()}}});jQuery(document).keyup(function(event){if(event.keyCode==27&&jQuery('.trigger-go-lightbox-wrapp').hasClass('displayed')==!0){_this.go_lightbox_close()}});jQuery('.wp-block-gallery figure a, .gallery figure.gallery-item a').on('click',function(e){if(_this.open_media_img=='1'){e.preventDefault();if(_this.type_media_img=='single'){var img_url=jQuery(this).attr('href');if(img_url){_this.build_imge_html(img_url)}}else if(_this.type_media_img=='gallery'){jQuery(this).addClass('current-link');var parent_block=jQuery(this).closest('.gallery');if(typeof parent_block=='undefined'||typeof parent_block.length=='undefined'||parent_block.length==0){parent_block=jQuery(this).closest('.wp-block-gallery')}
var img_count=1;var images_obj={};parent_block.find('figure').each(function(){var img_link=jQuery(this).find('a');var img_url=img_link.attr('href');images_obj[img_count]=img_url;var current_img='';if(img_link.hasClass('current-link')){current_img='current';img_link.removeClass('current-link');_this.current_img=img_count}
img_count++});_this.build_gallery_html(images_obj);_this.go_lightbox_open()}}});jQuery(window).resize(function(){_this.window_w=_this.html_doc.clientWidth;_this.window_h=(jQuery('body').hasClass('admin-bar'))?Number(_this.html_doc.clientHeight)-32:_this.html_doc.clientHeight;_this.resize_media_element();_this.resize_close_bottom_position()})}
button_previous_and_next(){var _this=this;jQuery('.trigger-go-lightbox-wrapp .button.previous').unbind('click');jQuery('.trigger-go-lightbox-wrapp .button.previous').on('click',function(){var parent_block=jQuery(this).parent();var this_img=parent_block.find('.image-box.current').attr('data-image-num');var img_count=0;parent_block.find('.image-box').each(function(){img_count++});if(Number(this_img)>1){var prev_img=Number(this_img)-1}else{var prev_img=img_count}
parent_block.find('.image-box[data-image-num="'+this_img+'"]').removeClass('current');parent_block.find('.image-box[data-image-num="'+prev_img+'"]').addClass('current');_this.resize_el_w=parent_block.find('.image-box.current').attr('data-w');_this.resize_el_h=parent_block.find('.image-box.current').attr('data-h');_this.resize_el_ratio=parent_block.find('.image-box.current').attr('data-ratio');_this.close_btn_sett_open_lightbox();_this.resize_media_element();_this.resize_close_bottom_position()});jQuery('.trigger-go-lightbox-wrapp .button.next').unbind('click');jQuery('.trigger-go-lightbox-wrapp .button.next').on('click',function(){var parent_block=jQuery(this).parent();var this_img=parent_block.find('.image-box.current').attr('data-image-num');var img_count=0;parent_block.find('.image-box').each(function(){img_count++});if(Number(this_img)<img_count){var next_img=Number(this_img)+1}else{var next_img=1}
parent_block.find('.image-box[data-image-num="'+this_img+'"]').removeClass('current');parent_block.find('.image-box[data-image-num="'+next_img+'"]').addClass('current');_this.resize_el_w=parent_block.find('.image-box.current').attr('data-w');_this.resize_el_h=parent_block.find('.image-box.current').attr('data-h');_this.resize_el_ratio=parent_block.find('.image-box.current').attr('data-ratio');_this.close_btn_sett_open_lightbox();_this.resize_media_element();_this.resize_close_bottom_position()})}
go_ajax_callback(options,this_event='undefined'){var _this=this;var _token=(typeof gol_added_values.nonce_token=='string'&&gol_added_values.nonce_token)?gol_added_values.nonce_token:'';jQuery.ajax({type:"post",dataType:"json",url:GOL_obj.ajax_url,data:{action:"grey_owl_lightbox_callback",data:options.callback_ajax,params:options.callback_ajax_params,nonce:_token},beforeSend:function(){_this.before_open_event=!1;_this.content='<div class="loader-image-box ajax-loader">'+_this.loader+'</div>';if(typeof this_event!='undefined'&&typeof this_event.length!='undefined'&&this_event.length!=0){this_event.attr('disabled','disabled')}},success:function(result){var html_='';if(typeof result.html!='undefined'&&typeof result.error!='undefined'&&result.error==!1){html_=result.html}else if(typeof result.error!='undefined'&&result.error==!0){if(typeof result.message!='undefined'){html_=result.message}else{html_='error "result.message"'}}else{html_='error'}
if(typeof result.parameters!='undefined'&&result.parameters){_this.data_go_content_callback=result.parameters}
if(typeof result.error!='undefined'&&result.error==!0&&typeof result.message!='undefined'&&result.message=='nonce'){console.log('nonce error');_this.go_lightbox_close()}else{if(typeof result.resize_el_w!='undefined'&&typeof result.resize_el_h!='undefined'&&Number(result.resize_el_w)!=NaN&&Number(result.resize_el_h)!=NaN){_this.resize_el_w=Number(result.resize_el_w);_this.resize_el_h=Number(result.resize_el_h);_this.resize_el_ratio=Number(result.resize_el_w)/Number(result.resize_el_h);_this.close_btn_sett_open_lightbox()}
var content=_this.set_content_wrapper(html_);_this.before_open_event=!0;_this.go_set_second_content_to_lightbox(content)}
if(typeof this_event!='undefined'&&typeof this_event.length!='undefined'&&this_event.length!=0){this_event.removeAttr('disabled')}}})}
get_image_data(tmp_img,img_num='1',add_to_obj=!0,added_class=''){var _this=this;jQuery(tmp_img).one('load',function(){var code_html='';var ratio=tmp_img.width/tmp_img.height;var data_v_h='data-w="'+tmp_img.width+'" data-h="'+tmp_img.height+'" data-ratio="'+ratio+'"';var e_data_v_h='width="'+tmp_img.width+'" height="'+tmp_img.height+'" '+data_v_h;_this.gallery_temp_data[img_num]={src:tmp_img.src,width:tmp_img.width,height:tmp_img.height,ratio:ratio,}
code_html+='<img src="'+tmp_img.src+'" alt="">';if(add_to_obj){_this.resize_el_w=tmp_img.width;_this.resize_el_h=tmp_img.height;_this.resize_el_ratio=tmp_img.width/tmp_img.height;_this.close_btn_sett_open_lightbox()}
var img_wrapp=jQuery('.trigger-go-lightbox-wrapp .image-wrapper .image-box[data-image-num="'+img_num+'"');var attr_={'data-w':tmp_img.width,'data-h':tmp_img.height,'data-ratio':ratio};img_wrapp.attr(attr_);img_wrapp.html(code_html);_this.resize_media_element();_this.resize_close_bottom_position()})}
params(obj={}){if(obj&&typeof obj=='object'){var _this=this;jQuery.each(obj,function(key,val){if(key=='width'){_this.resize_el_w=val}else if(key=='height'){_this.resize_el_h=val}
_this.close_btn_sett_open_lightbox()});this.resize_media_element()}}
clear_GOL_object(){this.before_open_event=!0;this.madia_type='';this.file_type='';this.resize_el_w='';this.resize_el_h='';this.size_el_w_default=!1;this.size_el_h_default=!1;this.resize_el_ratio='';this.element_box=!1;this.element_box_w=0;this.element_box_h=0;this.button_event={};this.content='';this.data_go_callback='';this.callback_ajax='';this.callback_ajax_params={};this.return_callback_ajax_params={};this.content_callback_event={};this.data_go_content_callback='';this.variables={};this.embed_url='',this.image_url='';this.gallery={};this.gallery_temp_data={};this.current_img=1;this.dom_html_element='';this.before_open={}}}
if(typeof jQuery()!='undefined'&&typeof jQuery()=='object'){var GOL_obj=new Grey_Owl_Lightbox();if(typeof gol_added_values!='undefined'&&typeof gol_added_values=='object'){GOL_obj.set_object_data(gol_added_values)}
GOL_obj.init()}(function($){$.fn.GreyOwlLightbox=function(this_e='',options={}){options=$.extend({},options);if(typeof this_e=='string'&&this_e){if(this_e=='click'){jQuery(this).on('click',function(){GOL_obj.go_lightbox_open(options)})}}else if(typeof this_e=='object'&&this_e){options=this_e;if(typeof options!='undefined'&&typeof options.callback_ajax!='undefined'&&typeof options.callback_ajax=='string'&&options.callback_ajax!=''){var callback_params;var content_callback;if(typeof options.callback_ajax_params=='undefined'){options.callback_ajax_params={}}else{if(options.callback_ajax_params!=''&&typeof window[options.callback_ajax_params]=='function'){callback_params=window[options.callback_ajax_params]()}}
callback_params=(typeof callback_params!='undefined'&&callback_params)?callback_params:{};if(typeof options.data_go_content_callback=='undefined'){options.data_go_content_callback=''}else{if(options.data_go_content_callback!='string'){options.data_go_content_callback=''}}
options.callback_ajax_params=callback_params;go_ajax_callback(options,jQuery(this))}else{GOL_obj.go_lightbox_open(options)}}}})(jQuery);function GreyOwlLightbox(e_name='',params={}){if(typeof e_name=='string'&&e_name){var parent_block=jQuery('.trigger-go-lightbox-wrapp');if(e_name=='close'){if(parent_block.hasClass('displayed')){GOL_obj.go_lightbox_close()}}else if(e_name=='set_content'&&typeof params=='string'&&params){if(parent_block.hasClass('displayed')){GOL_obj.go_set_second_content_to_lightbox(params)}}}}
